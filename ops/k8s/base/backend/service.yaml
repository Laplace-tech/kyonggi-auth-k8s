apiVersion: v1
kind: Service
metadata:
  name: backend   # 클러스터 내부 DNS 이름: backend (예: http://backend:8080)
spec:
  # selector: 어떤 파드로 트래픽을 보낼지 결정
  # 여기서 app=backend 라벨을 가진 파드를 찾아 라우팅함
  selector:
    app: backend

  ports:
    # port: Service가 노출하는 포트(클러스터 내부에서)
    # targetPort: 실제 파드(컨테이너)가 듣는 포트
    - name: http
      port: 8080
      targetPort: 8080

  # type을 지정 안 하면 기본이 ClusterIP(클러스터 내부 전용)
  # 외부에서 접근은 port-forward/Ingress/NodePort/LoadBalancer 등을 별도 사용
